module.exports=[93695,(a,b,c)=>{b.exports=a.x("next/dist/shared/lib/no-fallback-error.external.js",()=>require("next/dist/shared/lib/no-fallback-error.external.js"))},55144,a=>{"use strict";var b,c=((b={}).Phones="phones",b.Accessories="accessories",b.Products="products",b.Tablets="tablets",b);a.s(["ProductsType",()=>c])},37991,a=>{"use strict";var b=a.i(8171),c=a.i(27669);a.s(["Loader",0,()=>{let[a,d]=(0,c.useState)(!1);return((0,c.useEffect)(()=>{d(!0)},[]),a)?(0,b.jsx)("div",{className:"Loader","data-cy":"loader",children:(0,b.jsx)("div",{className:"Loader__content"})}):null}])},77111,a=>{"use strict";a.i(37991),a.s([])},88931,a=>a.a(async(b,c)=>{try{var d=a.i(64329),e=b([d]);function f(a){let{data:b,isLoading:c,isError:e}=(0,d.useGetProductsByCategoryQuery)(a);return{categorie:b||[],loading:c,error:e}}[d]=e.then?(await e)():e,a.s(["useCategoriesRTK",()=>f]),c()}catch(a){c(a)}},!1),3227,a=>{a.v({"back-link":"BackLink-module-scss-module__oZKMCW__back-link",container:"BackLink-module-scss-module__oZKMCW__container"})},72286,a=>{"use strict";var b=a.i(8171),c=a.i(1257),d=a.i(25670),e=a.i(3227);a.s(["BackLink",0,({category:a="/"})=>{let f=(0,d.useSearchParams)(),g=f?.get("from"),h=g?decodeURIComponent(g):`/${a}`;return(0,b.jsxs)(c.default,{href:h,className:`small-text ${e.default["back-link"]}`,children:[(0,b.jsx)("span",{className:"icon icon--arrow-left"}),(0,b.jsx)("p",{children:"Back"})]})}])},20036,a=>{"use strict";a.i(72286),a.s([])},52196,a=>{a.v({"cart-modal":"CartPage-module-scss-module__8MX3ba__cart-modal","cart-modal__button":"CartPage-module-scss-module__8MX3ba__cart-modal__button","cart-modal__buttons":"CartPage-module-scss-module__8MX3ba__cart-modal__buttons",cart__block:"CartPage-module-scss-module__8MX3ba__cart__block",cart__info:"CartPage-module-scss-module__8MX3ba__cart__info",cart__item:"CartPage-module-scss-module__8MX3ba__cart__item","cart__item-counter":"CartPage-module-scss-module__8MX3ba__cart__item-counter","cart__item-img":"CartPage-module-scss-module__8MX3ba__cart__item-img","cart__item-photo":"CartPage-module-scss-module__8MX3ba__cart__item-photo","cart__item-remove":"CartPage-module-scss-module__8MX3ba__cart__item-remove","cart__item-title":"CartPage-module-scss-module__8MX3ba__cart__item-title",cart__total:"CartPage-module-scss-module__8MX3ba__cart__total","cart__total-checkout":"CartPage-module-scss-module__8MX3ba__cart__total-checkout","cart__total-count":"CartPage-module-scss-module__8MX3ba__cart__total-count","cart__total-line":"CartPage-module-scss-module__8MX3ba__cart__total-line",cart__wrapper:"CartPage-module-scss-module__8MX3ba__cart__wrapper",container:"CartPage-module-scss-module__8MX3ba__container"})},60740,a=>{a.v({container:"Modal-module-scss-module__k1ZY8q__container",modal:"Modal-module-scss-module__k1ZY8q__modal","modal-overlay":"Modal-module-scss-module__k1ZY8q__modal-overlay"})},33458,a=>{"use strict";var b=a.i(8171),c=a.i(60740),d=a.i(4368);a.s(["Modal",0,({children:a,onCloseModal:e,className:f})=>(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("div",{className:c.default["modal-overlay"],onClick:()=>e(!1)}),(0,b.jsx)("div",{className:(0,d.default)([c.default.modal],f),children:a})]})])},83110,a=>{"use strict";a.i(33458),a.s([])},38900,a=>a.a(async(b,c)=>{try{var d=a.i(8171),e=a.i(27669),f=a.i(52196);a.i(20036);var g=a.i(72286),h=a.i(62256);a.i(19595);var i=a.i(51858),j=a.i(55144);a.i(77111);var k=a.i(37991);a.i(83110);var l=a.i(33458),m=a.i(88931),n=a.i(27488),o=a.i(89153),p=b([m,n,o]);function q(){let[a,b]=(0,e.useState)(!1);(0,e.useEffect)(()=>{b(!0)},[]);let{items:c}=(0,n.useAppSelector)(a=>a.cart),p=(0,n.useAppSelector)(o.selectAllCartQuantity),q=(0,n.useAppDispatch)(),r=a=>c.find(b=>b.id===a)?.quantity??0,{categorie:s,loading:t,error:u}=(0,m.useCategoriesRTK)(j.ProductsType.Products),[v,w]=(0,e.useState)(!1),x=(0,e.useMemo)(()=>s.filter(a=>c.some(b=>b.id===a.itemId)),[c,s]);if(!a)return null;let y=({product:a})=>(0,d.jsxs)("div",{className:f.default.cart__item,children:[(0,d.jsx)("button",{className:`icon icon--close ${f.default["cart__item-remove"]}`,onClick:()=>q((0,o.toggleCart)(a.itemId))}),(0,d.jsx)("div",{className:f.default["cart__item-photo"],children:(0,d.jsx)("img",{src:a.image,alt:a.name,className:f.default["cart__item-img"]})}),(0,d.jsx)("p",{className:`body-text ${f.default["cart__item-title"]}`,children:a.name}),(0,d.jsxs)("div",{className:f.default["cart__item-counter"],children:[(0,d.jsx)(i.Button,{isRatio:!0,icon:h.ButtonType.Minus,onClick:()=>q((0,o.changeCartQuantity)({id:a.itemId,delta:-1}))}),a.quantity,(0,d.jsx)(i.Button,{isRatio:!0,icon:h.ButtonType.Plus,onClick:()=>q((0,o.changeCartQuantity)({id:a.itemId,delta:1}))})]}),(0,d.jsxs)("h3",{children:["$",a.sum]})]}),z=x.map(a=>({...a,sum:r(a.itemId)*a.price,quantity:r(a.itemId)})),A=z.reduce((a,b)=>a+b.sum,0);return(0,d.jsxs)("div",{className:"container",children:[(0,d.jsxs)("div",{className:f.default.cart__info,children:[(0,d.jsx)(g.BackLink,{}),(0,d.jsx)("h1",{children:"Cart"})]}),0===c.length?(0,d.jsx)("section",{className:"section",children:(0,d.jsx)("img",{className:"not-found__img",src:"img/cart-is-empty.png",alt:"empty-cart"})}):t?(0,d.jsx)(k.Loader,{}):u?"error":(0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("section",{className:`section ${f.default.cart__block}`,children:[(0,d.jsx)("div",{className:f.default.cart__wrapper,children:z.map(a=>(0,d.jsx)(y,{product:a},a.id))}),(0,d.jsxs)("div",{className:f.default.cart__total,children:[(0,d.jsxs)("h2",{children:["$",A]}),(0,d.jsxs)("p",{className:`body-text ${f.default["cart__total-count"]}`,children:["Total for ",p," items"]}),(0,d.jsx)("hr",{className:f.default["cart__total-line"]}),(0,d.jsx)(i.Button,{className:`button-text ${f.default["cart__total-checkout"]}`,onClick:()=>w(!0),children:"Checkout"})]})]}),v&&(0,d.jsxs)(l.Modal,{className:f.default["cart-modal"],onCloseModal:w,children:[(0,d.jsx)("h3",{children:"Checkout is not implemented yet. Do you want to clear the Cart?"}),(0,d.jsxs)("div",{className:f.default["cart-modal__buttons"],children:[(0,d.jsx)(i.Button,{className:f.default["cart-modal__button"],isSelected:!0,onClick:()=>w(!1),children:"Cancel"}),(0,d.jsx)(i.Button,{className:f.default["cart-modal__button"],onClick:()=>q((0,o.clearCart)()),children:"Confirm"})]})]})]})]})}[m,n,o]=p.then?(await p)():p,a.s(["default",()=>q]),c()}catch(a){c(a)}},!1),64429,a=>a.a(async(b,c)=>{try{var d=a.i(79168),e=a.i(27068),f=a.i(32759),g=a.i(39141),h=a.i(68695),i=a.i(38900),j=a.i(9193),k=b([h,i]);[h,i]=k.then?(await k)():k;let l=(0,f.hoist)(i,"default"),m=(0,f.hoist)(i,"getStaticProps"),n=(0,f.hoist)(i,"getStaticPaths"),o=(0,f.hoist)(i,"getServerSideProps"),p=(0,f.hoist)(i,"config"),q=(0,f.hoist)(i,"reportWebVitals"),r=(0,f.hoist)(i,"unstable_getStaticProps"),s=(0,f.hoist)(i,"unstable_getStaticPaths"),t=(0,f.hoist)(i,"unstable_getStaticParams"),u=(0,f.hoist)(i,"unstable_getServerProps"),v=(0,f.hoist)(i,"unstable_getServerSideProps"),w=new d.PagesRouteModule({definition:{kind:e.RouteKind.PAGES,page:"/cart/index",pathname:"/cart",bundlePath:"",filename:""},distDir:".next",relativeProjectDir:"",components:{App:h.default,Document:g.default},userland:i}),x=(0,j.getHandler)({srcPage:"/cart/index",config:p,userland:i,routeModule:w,getStaticPaths:n,getStaticProps:m,getServerSideProps:o});a.s(["config",0,p,"default",0,l,"getServerSideProps",0,o,"getStaticPaths",0,n,"getStaticProps",0,m,"handler",0,x,"reportWebVitals",0,q,"routeModule",0,w,"unstable_getServerProps",0,u,"unstable_getServerSideProps",0,v,"unstable_getStaticParams",0,t,"unstable_getStaticPaths",0,s,"unstable_getStaticProps",0,r]),c()}catch(a){c(a)}},!1)];

//# sourceMappingURL=%5Broot-of-the-server%5D__806e4386._.js.map